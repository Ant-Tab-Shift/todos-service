# todos-service

REST-сервис на Go для CRUDL операций с задачами без использования сторонних библиотек.

## Запуск

1. Клонирование репозитория
```bash
git clone https://github.com/Ant-Tab-Shift/todos-service.git
```

2. Подготовка окружения

Можно написать `.env` файл по примеру `env.example` - в конфиге определяется порт, с которого сервис будет принимать входящие запросы. Также можно экспортировать переменную окружения в сессию терминала:
```bash
export PORT=8080
```

3. Запуск сервиса с помощью Docker
```bash
docker compose up
```

4. Вместо 3-го шага можно запустить проект локально на порту `8080`:
```bash
go run ./cmd/main.go
```

## Реализация

Готов HTTP-сервер, который обрабатывает эндпоинты:
* POST /todos — создать новую задачу
* GET /todos — получить список всех задач
* GET /todos/{id} — получить задачу по идентификатору
* PUT /todos/{id} — обновить задачу по идентификатору
* DELETE /todos/{id} — удалить задачу по идентификатору

Ожидаемые тела запросов описываются структурами:
```go
type CreateTaskRequest struct {
	Title       string `json:"title"`
	Description string `json:"description"`
}

type UpdateTaskRequest struct {
	Title       string `json:"title"`
	Description string `json:"description"`
	IsDone      bool   `json:"is_done"`
}
```

### Частные случаи

* При создании и обновлении задачи заголовок не должен быть пустым. Если валидация не прошла — вернуть статус 400 Bad Request.
* Если задача с указанным идентификатором не найдена — вернуть 404 Not Found.

### Архитектура

Структура проекта следует практиками чистой архитектуры и идиомам Go.

## Покртие требований

- Хранение данных в in-memory хранилище. Реализация с дженериками
- Использование context для таймаутов/отмены
- Логирование запросов
- Dockerfile для запуска приложения
- Решение включает *graceful shutdown*

### Тесты

Обрабатываются основные кейсы: успешное создание, ошибка валидации, дублирование идентификатора - и не только
